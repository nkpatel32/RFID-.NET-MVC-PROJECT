@{
    Layout = "~/Views/AdminPanal/_AdminLayout.cshtml";  // Path to your AdminLayout.cshtml
}

<div class="bg-white p-6 rounded-lg shadow-lg form-container w-1/2 mx-auto">
    <h2 class="text-xl font-semibold mb-4 text-center">Change Password</h2>

    <!-- Error and Success Messages (Static for now) -->
    <p class="text-red-500 text-center" id="error-message">@ViewBag.ErrorMessage</p>
    <p class="text-green-500 text-center" id="success-message">@ViewBag.SuccessMessage</p>
    <p id="password-mismatch-error" class="text-red-500 text-center hidden">New  and Confirm Password not match</p>
    <form id="password-form" method="post" action="@Url.Action("EditPassword", "Admin")">
        <label class="block mb-2" for="oldPassword">Old Password</label>
        <input type="password"
               id="oldPassword"
               name="currentPassword"
               placeholder="Enter your old password"
               class="w-full p-2 border rounded mb-4" required />

        <label class="block mb-2" for="newPassword">New Password</label>
        <input type="password"
               id="newPassword"
               name="newPassword"
               placeholder="Enter new password"
               class="w-full p-2 border rounded mb-4" required />

        <label class="block mb-2" for="confirmPassword">Confirm Password</label>
        <input type="password"
               id="confirmPassword"
               name="confirmPassword"
               placeholder="Confirm new password"
               class="w-full p-2 border rounded mb-4" required />

       

        <button type="submit"
                class="w-full p-2 rounded bg-green-500 text-white">
            Change Password
        </button>
    </form>
</div>

<script>
    // Client-side validation to ensure New Password and Confirm Password match
    document.getElementById("password-form").addEventListener("submit", function(event) {
        var newPassword = document.getElementById("newPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        // If passwords don't match, prevent form submission and show an error message
        if (newPassword !== confirmPassword) {
            event.preventDefault(); // Prevent the form from submitting
            var errorMessage = document.getElementById("password-mismatch-error");
            errorMessage.classList.remove("hidden"); // Show the error message
        } else {
            var errorMessage = document.getElementById("password-mismatch-error");
            errorMessage.classList.add("hidden"); // Hide the error message if passwords match
        }
    });
</script>
